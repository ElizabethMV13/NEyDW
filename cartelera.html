<!Doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Importando estilos -->
  <link rel="stylesheet" href="static/css/style.css">
  <title> JALEAD STUDIO | Cartelera </title> <!-- Esto es el título de la pagina -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lucaburgio/iconoir@main/css/iconoir.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<title>Grid2</title>
<head>
<body class = "grid-container-base">
  <!--Menu a desplegar de la pantalla completa-->
  <header class="header">
    <div class="btn-menu-icon">
      <label for="btn-menu" >
        <svg width="48px" height="48px" stroke-width="3" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#000000">
          <path d="M3 5h18M3 12h18M3 19h18" stroke="#000000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        </label>
      </div>
      <div class="container-menu-icon" id="navbarResponsive">
        <nav class="navbar-menu">
          <a style="font-size: 18px;margin-left: 8px;" href="sobre_nosotros.html">Acerca de </a>
          <a style="font-size: 18px;" href="cartelera.html">Cartelera</a>
          <a style="font-size: 18px;" href="registra-pelicula.html">Registrar pelicula</a>
          <a style="font-size: 18px;" href="registrate.html">Registrate</a>
          <a style="font-size: 18px;" href="inicio-sesion.html">Inicio de sesión</a>
        </nav>
        
      </div>
      <div style="display: flex; margin: 2%; ">
        <p class="p-logo">JALEAD STUDIO </p>
        <a href="">
          <img class="logo" src="static/img/Logo.png" alt="Logo Equipo" > 
        </a><!-- Insertando imagen -->
      </div>
      <hr>
      
    </header>
    <!--Menu a desplegar para cualquier panatalla minimizada-->
    <input type="checkbox" id="btn-menu" >
      <div class="container-menu">
        <div class="cont-menu" >
          <nav>
            <a href="sobre_nosotros.html">Sobre Nosotros</a>
            <a href="cartelera.html">Cartelera</a>
            <a href="registra-pelicula.html">Registrar pelicula</a>
            <a href="registrate.html">Registrate</a>
            <a href="inicio-sesion.html">Inicio de sesión</a>
          </nav>
          <label for="btn-menu">
            <svg width="34px" height="34px" stroke-width="3" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#000000">
            <path d="M6.758 17.243L12.001 12m5.243-5.243L12 12m0 0L6.758 6.757M12.001 12l5.243 5.243" stroke="#000000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path></svg>
          </label>
        </div>
      </div>

<article class="main-base" style=" display: inline;">
  <label class="btn_izq" id="retroceder" style=" padding: 18% 0% ; display: flex;">
    <i class="material-icons" style="font-size:110px">keyboard_arrow_left</i>
  </label>
  <div class="carouselPeliculas" style="display: flex; padding: 12% 5%; margin: 0%;" >
  </div>
  <label class="btn_der" id="avanzar" style=" padding: 31% 0% ;display: flex; position: absolute;" >
    <i class="material-icons" style="font-size:110px">keyboard_arrow_right</i>
  </label>

</article>
<footer class="footer">
  <div class="container-permisos" >
    <small>©Todos los derechos reservados JALEA STUDIO. Esta página puede ser reproducida con fines
      no lucrativos, siempre y cuando no se mutile, se cite la fuente completa y su dirección electrónica.
  </small>
  </div>
</footer>

<script >
  var peliculas = {
  "Beast1":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thrialler:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
  "Beast2":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thriller:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
  "Beast3":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thriller:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
  "Beast4":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thriller:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
  "Beast5":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thriller:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
  "Beast6":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thriller:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
  "Beast7":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thriller:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
  "Beast8":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thriller:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
  "Beast9":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thriller:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
  "Beast10":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thriller:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
  "Beast11":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thriller:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
  "Beast12":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thriller:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
  "Beast13":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thriller:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
  "Beast14":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thriller:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
  "Beast15":{
  anio: "2022",
  pais: "Estados Unidos",
  clasificacion: "B",
  duracion: "93",
  genero: "Aventura, Drama, Thriller",
  thriller:"https://www.youtube.com/watch?v=rM0aUSHSTf0",
  img:"static/img/bestia.jpg",
  sinopsis: "Un padre y sus dos hijas adolescentes se ven perseguidos por un enorme león rebelde que intenta demostrar que la sabana solo tiene un depredador ápice." 
  },
}

window.onload = function () {

  var $sidebar = document.querySelector(".carouselPeliculas");
  console.log($sidebar)
  var count = 1;
  
  //Se recorre lista de elementos
  Object.entries(peliculas).forEach(([titulo,datos]) => {

    //Se declaran elementos a crear
    var div = document.createElement("div");
    var divInterno = document.createElement("div");
    var img = document.createElement("img");
    var a = document.createElement("a");
   // var p = document.createElement("p");
    var h3 = document.createElement("h3");

    if ( count < 5 ) { 
      div.setAttribute("class","carousel-item item-form  activate");
      div.setAttribute("style", "display: none;");
    }else{
      div.setAttribute("class","carousel-item item-form");
      div.setAttribute("style", "display: none;");
    }
 
    //Se insertan atributos y otros elementos necesarios
    div.setAttribute("id", `carousel-item_${count}`);
    div.setAttribute("valor", `${count}`);
    divInterno.setAttribute("id", `target-pelicula`);
    a.setAttribute("href", datos["thriller"]);
    a.setAttribute("target","_blank");
    img.setAttribute("src", datos["img"]);
    img.setAttribute("class", "img-anuncio");
    img.setAttribute("alt", `'portada_pelicula_'${titulo}`);
    const text = document.createTextNode(titulo);
   // const resumen = document.createTextNode(datos["sinopsis"]);
    
    //Se da orden deseado a los elementos
    a.appendChild(img); 
    h3.appendChild(text); 
   // p.appendChild(resumen); 
    divInterno.appendChild(a); 
    divInterno.appendChild(h3); 
    //divInterno.appendChild(p); 
    div.appendChild(divInterno); 
    $sidebar.appendChild(div); 

    count = count + 1;


  });



  //Función que controla el movimiento
  function renderizarMargen(actual, siguiente) {console.log(actual +"   "+siguiente)
    document.getElementById(actual).classList.remove("activate");
    document.getElementById(siguiente).classList.add("activate");
  }

  let $botonRetroceder = document.querySelector('#retroceder');
  let $botonAvanzar = document.querySelector('#avanzar');

  const $elementosCarousel = document.querySelectorAll(".carousel-item");

  let tope = Object.entries(peliculas).length;

  //Función que da movimiento por el btn de avanzar
  $botonAvanzar.onclick = function (e) {
    $margenesActivos = document.querySelectorAll('.activate');
    bandera = true;
    numeros = [];
    $margenesActivos.forEach(element => {
      
      id = element.id;

      separa = id.split("_");
      
      numeroTaget = separa[1];

      numeros.push(numeroTaget);
    });
    console.log(numeros)
    valorInicial = numeros[0]

    valorFinal = parseInt(numeros[3]) + 1
    console.log(valorFinal)

    if(numeros[0] == 12 && numeros[1] == 13 && numeros[2] == 14 && numeros[3] == 15){
      valorFinal = 1;
      valorInicial = 12;
    } 
    if(numeros[0] == 1 && numeros[1] == 13 && numeros[2] == 14 && numeros[3] == 15){
      valorFinal = 2;
      valorInicial = 13;
    } 
    if(numeros[0] == 1 && numeros[1] == 2 && numeros[2] == 14 && numeros[3] == 15){
      valorFinal = 3;
      valorInicial = 14;
    } 
    if(numeros[0] == 1 && numeros[1] == 2 && numeros[2] == 3 && numeros[3] == 15){
      valorFinal = 4;
      valorInicial = 15;
    } 
    if(numeros[0] == 1 && numeros[1] == 2 && numeros[2] == 3 && numeros[3] == 4){
      valorFinal = 5;
      valorInicial = 1;
    } 

    renderizarMargen("carousel-item_" + valorInicial, "carousel-item_" + valorFinal);
    
    }
    
  //Función que da movimiento por el btn de retoceder
  $botonRetroceder.onclick = function (e) {
    $margenesActivos = document.querySelectorAll('.activate');
    bandera = true;
    numeros = [];
    $margenesActivos.forEach(element => {
      
      id = element.id;

      separa = id.split("_");
      
      numeroTaget = separa[1];

      numeros.push(numeroTaget);
    });
    console.log(numeros)
    
    
    if(numeros[0] == 1 && numeros[1] == 2 && numeros[2] == 3 && numeros[3] == 4){
      console.log("bande3r")
      valorFinal = 15;
      valorInicial = 4;
    } 
    if(numeros[0] == 1 && numeros[1] == 2 && numeros[2] == 3 && numeros[3] == 15){
      valorFinal = 14;
      valorInicial = 3;
    } 
    if(numeros[0] == 1 && numeros[1] == 2 && numeros[2] == 14 && numeros[3] == 15){
      valorFinal = 13;
      valorInicial = 2;
    } 
    if(numeros[0] == 1 && numeros[1] == 13 && numeros[2] == 14 && numeros[3] == 15){
      valorFinal = 12;
      valorInicial = 1;
    } 
    let valorMin =  Math.min(...numeros);
    if(valorMin < 13 && valorMin>4){
      valorInicial =  Math.max(...numeros);
      console.log(valorMin)
      valorFinal = valorMin-1;
    } 
    if(valorMin < 8 && valorMin>1){
      valorInicial =  Math.max(...numeros);
      console.log(valorMin)
      valorFinal = valorMin-1;
    } 
        
    renderizarMargen("carousel-item_" + valorInicial, "carousel-item_" + valorFinal);
  }
}
</script>
</body>
<style>
  label{
    font-weight: bold;
    font-size: 20px;
    
    color: rgb(67, 67, 67);
  }
  li{
    list-style: none;
    margin: 0.5%;
  }
  p{
    font-size: 16px;
    margin: 0.5%;
    color: rgb(105, 104, 104);
  }
  h1{
    color: rgb(59, 58, 58);
    font-weight: bold;
    font-size: 28px;
  }
  .footer { 
    background-color: #1b3039;
    height: 13%;
    padding: 5px 10%;
    bottom: -35% !important; /*-40 para cuando la pantalla es de telefono*/
    position: absolute;
    width: 100%;
}
.item-form{
    width: 18%;
    height: 20%;
    display: flex;
}

#target-pelicula{
    width: 10%;
    height: 10%;
    float:right;
    margin: 15% 1.5% ;
}


</style>
</html>